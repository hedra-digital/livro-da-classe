<div id="originals-container" class="originals-container">
  <div class="manual-container">
    <div class="question">
      <span>Você já leu nosso manual?</span>
    </div>
    <div class="btn-group">
      <%= link_to 'Não', manual_path, class: 'btn', target: '_blank' %>
      <%= link_to 'Sim', '#', class: 'btn btn-success', onclick: 'return chaptersContainer();'  %>
    </div>
  </div>
  <div class="chapters-container" hidden="true">
    <div class="row question">
      <% if !@book.id.present? %>
        <div class="row">
          <span>Vamos adicionar os capítulos do seu livro? Atenção, não se preocupe com o sumário. Faremos isso para você.</span>
        </div>
        <div class="row chapter-info">
          <div class="span7"><%= text_field_tag :title, nil, :placeholder => 'Título'%></div>
          <%= text_field_tag :subtitle, nil,:placeholder => 'Subtítulo' %>
          <%= text_field_tag :author, nil, :placeholder => 'Autor do Capítulo' %>
          <%= link_to '', '#', class: 'icon-plus', onclick: 'return addChapterLine();' %>
        </div>
        <div class="row chapter-table-container" hidden>
          <table id="chapter-table" class="table table-striped">
            <tbody>
            </tbody>
          </table>
        </div>
      <% else %>
      <div class="row exist-chapters">
        <span>Legal!!! Você já tem um livro criado. Pode acessar seus capítulos na página princiapl.</span>
      </div>
      <% end %>
      <div class="row btn-group">
        <%= link_to 'Voltar', '#', class: 'btn', onclick: 'return manualContainer();' %>
        <%= link_to 'Próximo', '#', class: 'btn', onclick: 'return extrasContainer();'  %>
      </div>
    </div>
  </div>
  <div class="extras-container" hidden="true">
    <div class="question">
      <span>Além dos capítlos, seu livro algum dos itens abaixo?</span>
    </div>
    <div class="btn-group">
      <%= link_to 'Voltar', '#', class: 'btn', onclick: 'return chaptersContainer();' %>
    </div>
  </div>
</div>

<script>
function chaptersContainer() {
  $('.manual-container').hide();
  $('.extras-container').hide();
  $('.chapters-container').show();
  return false;
}

function manualContainer() {
  $('.manual-container').show();
  $('.chapters-container').hide();
  $('.extras-container').hide();
  return false;
}

function extrasContainer() {
  $('.chapters-container').hide();
  $('.extras-container').show();
  $('.manual-container').hide();
  return false;
}

function addChapterLine() {
  if($('#title').val() == '') return false;
  tr = "<tr><td class='truncate'>"+ $('#title').val() +"</td><td class='truncate'>"+ $('#subtitle').val() +"</td><td class='truncate'>"+ $('#author').val() +"</td></tr>"
  $('#chapter-table').append(tr);
  if($('#chapter-table tr').length > 0) {
    $('.chapter-table-container').show();
  }
  $('#title').val('');
  $('#subtitle').val('');
  $('#author').val('');
  $('.substep').height($('.substep').height() + 36)
  return false
}

</script>
